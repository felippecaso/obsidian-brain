# Coalesce 2024 Talk Proposal

## Content
### Session title
Advanced strategies for lineage optimization
### Description
What would you do if your lineage couldn't be rendered visually? As data platforms grow in size and complexity, it becomes harder and harder to understand everything that is going on a given pipeline.

This session will share practical methods to analyze and optimize lineages that have been proven to optimize lineages by several hours. From the world of project management, the concept of Criticality will help understand and address the main bottlenecks in any lineage, and with a few steps these analyzes will be replicated in your own dbt project.
### 2-5min long Pitch Video on Loom
_main idea behind the session, key topics you plan to cover, and what audience members will learn_

https://www.loom.com/share/8b051a8df8d64e738d233db850f3a4b3?sid=b0d8c5e7-d6b6-4f22-81bf-e764528bc350

- Hi folks! I'm Felippe, and I'm so happy to be here again sharing an idea to make Coalesce even better.
- Until last year I was leading the Analytics team at Loft, a Brazilian startup, where I led our dbt project from 1 to 5 thousand models.
- This year, I moved to a new challenge, and I'm now acting as Lead Analytics Engineer at Nubank, one of the world's largest digital financial platforms.
- What I'm going to share with you and everyone at Coalesce comes from a lot of work in understanding and optimizing data platforms that end up getting really big.
- Recently in the analytics landscape we've been building a lot around governance and scale, with frameworks and tools such as dbt mesh.
- But not all companies are lucky enough to start their data journeys with such tools, and we can probably agree that complexity grows really fast.
- When we least expect, we find ourselves with a lineage that looks like this, a subset from our dbt project at Loft last year. At this point, a lot happens:
	- We start to overvalue context. People who have been around for longer can point to trustable datasets or pipelines. Because, sometimes, that's the easiest way forward.
	- With complexity also comes cost. Time, money, resources, teams. And it becomes harder and harder to know where to start to untie this knot.
- At Nubank, we have been struggling with complexity. Our data platform grew while prioritizing an open environment for consumption and collaboration. That's good, but it comes with a very high cost.
- For context, just one pipeline in one of the main business units at Nubank has:
	- 17 thousand dependencies, between raw datasets, transformed datasets and machine learning models. These data assets are owned by more than 70 teams across the company.
	- It takes a whopping 65 hours to process everything in one transaction. This generates a lot of consequences for daily management, where we constantly need to be aware of what may go wrong and how to fix it.
- At this point, interactive lineages don't work anymore. Nor can any single person have a deep understanding of everything that's going on there.
- This is where we begin to need more advanced methods. During the session at Coalesce, I will replicate the discovery process we went through to understand this lineage from ground zero. And the main star of the night is called the Criticality Analysis.
- It derives a concept from project management, where you understand which dependencies or steps are offenders to the duration of the whole process.
- So if you have a step that takes more than its parallel counterparts, 10 days in this example, we say that it will be part of the critical path for that flow. Not only that, but we can also quantify the amount that single node impacts the whole process - that concept is called the critical drag.
- It's also nice to understand that, once you optimize this bottleneck, an other part of the dependency flow becomes the critical path. When executed over and over, this optimization process can bring a lot of value to the table, while also taking the opportunity to rethink the most critical parts.
- You can probably see that this is directly applied to a DAG in a data pipeline. It goes without saying that, with the metadata generated by dbt, everything necessary to understand and model this behavior is already at hand.
- We developed a Monte Carlo simulation that runs this criticality analysis. The reason for the simulation is that more often than not data processing will not be 100% deterministic: the duration of single datasets in the lineage will vary by a bit, and this variation can impact which datasets are the bottlenecks in each part of the lineage.
- Teams at Nubank have been able to optimize up to 20 hours in the lineage with the help of this tool, by quantifying and prioritizing candidates for refactoring. And, of course, folks attending this session at Coalesce will be able to easily replicate this analysis in their own lineages afterwards.
- The method can be used with or without the lineage information coming from dbt. We're not currently using dbt at Nubank, but I will definitely put up a dbt package by the time of Coalesce so that it's even easier to get folks up and running.
- I can't wait to get this conversation going with folks at Coalesce. Data pipelines and platforms are getting more complex, and we definitely need to continue discussing and building tools to help us navigate them.
- Thank you so much for dedicating the time to watch this video, and I will see you soon in Las Vegas!
### Category
Industry best practice
### Style
Breakout session
### dbt knowledge level
Basic
### Additional notes


### Speaker biography
![[Bio#2024-04-29-Monday]]

### Tell us about your data stack
_We'd like to know what tools and platforms your using and working with._

At Nubank, our main data transformation tool is proprietary and built on top of Spark, but our Data Platform also includes Databricks, BigQuery, Looker, Alation and SODA.

### How long have you been using dbt?
_Tell us about your or your organization's experience with dbt._

I've been using dbt since 2021, having led its implementation at Loft. Ever since, being part of the community and continuing to learn as it grows and adapts for modern challenges (such as with dbt mesh) has been a blast: Coalesce 2022 provided the opportunity to become certified and deliver my first talk at the conference, and Coalesce 2023 was awesome to keep up with great connections.
## Orientations
How are you building knowledge for your company? Are you helping your team ship data products faster? Is organizational trust in your data improving? What are you doing to get more value out of your data investments and reduce the cost of producing new insights?

Share your story at Coalesce 2024, the world’s premier analytics engineering conference. We are looking for presenters with a broad range of experience and expertise and are committed to building an inclusive event that reflects the diverse dbt community. We’re especially interested in proposals about:

1. Best practices for scaling dbt across teams and departments
2. How dbt Cloud is unlocking new generative AI use cases
3. Your organization’s data modernization journey
4. Overcoming complexity in your data workflows
5. Empowering teams with data insights and access
6. Tips for achieving tangible business benefits with dbt Cloud

**Types of speaking opportunities:**

Presentations may be delivered as; single or co-presenter breakout, 4-person max panel, or discussion based peer-exchanges. 

Breakouts will be 30-minutes, panels will be 45-minutes, and peer exchanges will be 1-hour. 

All presentations will be delivered live and in-person in Las Vegas, and either live-streamed or captured and recorded for an online experience. Peer Exchanges and other discussion based sessions will not be recorded.

**What makes for a good proposal?**

It’s no secret that people come to Coalesce to be inspired, engaged, and educated. Attendees want to learn from people who have solved real-world problems associated with data scale and complexity. They want to see creative approaches and new ways of thinking. And they want to walk away energized and brimming with ideas to carry what they learned forward in their business. 

Here are a few tips on delivering a great proposal:

- Be authentic. Express the ideas and concepts in your own words based on lived experience. Steer clear of jargon. 
- Give your proposal a clear and concise title. 
- Think about who’s in the audience watching this presentation. How will they get value from this presentation?
- Avoid promotional content. No product or marketing pitches, please.
- Tailor your content for a professional and knowledgeable audience.
- Clearly articulate the value attendees will gain from attending your presentation. Keep your proposal short but don’t leave out the specifics.

The talk proposal you submit should demonstrate ample forethought. The more concrete you can be, the more chance your talk will make an impression on us (and audiences at Coalesce!). Don't get hung up on needing to be a superstar—we'll work with you on delivery.

*Please note: Technology and services vendors are welcome to submit talk proposals. The most effective way to draw attention to your proposal is to have a customer submit a proposal.
